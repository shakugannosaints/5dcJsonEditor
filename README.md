# å›½é™…è±¡æ£‹å¤šæ—¶é—´çº¿å¯è§†åŒ–ç¼–è¾‘å™¨ / Chess Multi-Timeline Visual Editor

<div align="center">
  <button onclick="toggleLanguage()">ğŸŒ English</button>
  <button onclick="toggleLanguage()">ğŸŒ ä¸­æ–‡</button>
</div>

---

<div id="chinese-content">

# å›½é™…è±¡æ£‹å¤šæ—¶é—´çº¿å¯è§†åŒ–ç¼–è¾‘å™¨ä½¿ç”¨è¯´æ˜

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºReactçš„å›½é™…è±¡æ£‹å¤šæ—¶é—´çº¿å¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š

- å¯¼å…¥/å¯¼å‡ºç‰¹å®šæ ¼å¼çš„JSONæ–‡ä»¶
- åˆ›å»ºå’Œç®¡ç†å¤šä¸ªæ—¶é—´çº¿ï¼ˆæ­£æ•°ã€è´Ÿæ•°ã€é›¶æ—¶é—´çº¿ï¼‰
- åœ¨æ—¶é—´çº¿ä¸Šæ·»åŠ ã€åˆ é™¤å’Œå¤åˆ¶æ£‹ç›˜
- è‡ªç”±æ”¾ç½®å’Œç§»åŠ¨æ£‹å­
- æ’¤é”€/é‡åšæ“ä½œ
- å“åº”å¼è®¾è®¡ï¼Œé€‚é…ä¸åŒè®¾å¤‡

## éƒ¨ç½²è¯´æ˜

### å¼€å‘ç¯å¢ƒè¿è¡Œ

1. è§£å‹`chess_editor_source.zip`æ–‡ä»¶
2. è¿›å…¥é¡¹ç›®ç›®å½•ï¼š`cd chess_editor_app`
3. å®‰è£…ä¾èµ–ï¼š`pnpm install`
4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š`pnpm run dev`
5. åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š`http://localhost:5173`

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. è§£å‹`chess_editor_source.zip`æ–‡ä»¶
2. è¿›å…¥é¡¹ç›®ç›®å½•ï¼š`cd chess_editor_app`
3. å®‰è£…ä¾èµ–ï¼š`pnpm install`
4. æ„å»ºé¡¹ç›®ï¼š`pnpm build`
5. éƒ¨ç½²`dist`ç›®å½•ä¸­çš„æ–‡ä»¶åˆ°æ‚¨çš„WebæœåŠ¡å™¨

## ä½¿ç”¨è¯´æ˜

### å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½

- ç‚¹å‡»æ§åˆ¶é¢æ¿ä¸­çš„"å¯¼å…¥"æŒ‰é’®ï¼Œé€‰æ‹©JSONæ–‡ä»¶è¿›è¡Œå¯¼å…¥
- ç‚¹å‡»"å¯¼å‡º"æŒ‰é’®ï¼Œå°†å½“å‰ç¼–è¾‘å™¨çŠ¶æ€å¯¼å‡ºä¸ºJSONæ–‡ä»¶

### æ—¶é—´çº¿ç®¡ç†

- ä½¿ç”¨æ—¶é—´çº¿åˆ—è¡¨ä¸Šæ–¹çš„æŒ‰é’®æ·»åŠ ä¸åŒç±»å‹çš„æ—¶é—´çº¿
- æ—¶é—´çº¿æŒ‰ç…§è´Ÿæ•°åœ¨ä¸Šã€æ­£æ•°åœ¨ä¸‹çš„é¡ºåºæ’åˆ—
- ç‚¹å‡»æ—¶é—´çº¿ä¸Šçš„"åˆ é™¤æ—¶é—´çº¿"æŒ‰é’®å¯ç§»é™¤æ•´ä¸ªæ—¶é—´çº¿

### æ£‹ç›˜æ“ä½œ

- ç‚¹å‡»æ—¶é—´çº¿ä¸­çš„"æ·»åŠ æ£‹ç›˜"æŒ‰é’®åœ¨æ—¶é—´çº¿æœ«å°¾æ·»åŠ æ–°æ£‹ç›˜
- ç‚¹å‡»æ£‹ç›˜ä¸‹æ–¹çš„"åˆ é™¤"æŒ‰é’®ç§»é™¤æ£‹ç›˜
- å¯ä»¥è·¨æ—¶é—´çº¿å¤åˆ¶æ£‹ç›˜
- å¯ä»¥æ·»åŠ ç©ºæ£‹ç›˜äº†ï¼ˆ2025-5-24æ›´æ–°ï¼‰

### æ£‹å­æ“ä½œ

- æ‹–æ‹½æ£‹å­å¯ä»¥åœ¨æ£‹ç›˜å†…æˆ–è·¨æ£‹ç›˜ç§»åŠ¨
- æ£‹å­å¯ä»¥è‡ªç”±æ”¾ç½®ï¼Œä¸å—å›½é™…è±¡æ£‹è§„åˆ™é™åˆ¶

### æ’¤é”€/é‡åš

- ç‚¹å‡»æ§åˆ¶é¢æ¿ä¸­çš„"æ’¤é”€"å’Œ"é‡åš"æŒ‰é’®
- ä¹Ÿå¯ä»¥ä½¿ç”¨é”®ç›˜å¿«æ·é”®ï¼šCtrl+Zï¼ˆæ’¤é”€ï¼‰å’ŒCtrl+Yï¼ˆé‡åšï¼‰

### å…ƒæ•°æ®ç¼–è¾‘

- ç‚¹å‡»"ç¼–è¾‘å…ƒæ•°æ®"æŒ‰é’®å¯ä»¥ä¿®æ”¹æ£‹å±€åç§°ã€ä½œè€…å’Œå›åˆåç§»é‡

## JSONæ ¼å¼è¯´æ˜

ç¼–è¾‘å™¨æ”¯æŒçš„JSONæ ¼å¼å¦‚ä¸‹ï¼š

```json
{
  "Name": "æ£‹å±€åç§°",
  "Author": "ä½œè€…åç§°",
  "Timelines": {
    "-1L": [
      "3k1/5/5/2K2/5"
    ],
    "0L": [
      "3k1/5/5/2K2/5"
    ],
    "+0L": [
      null, "8/8/8/8/8/8/8/8"
    ]
  },
  "CosmeticTurnOffset": -1
}
```

- `Name`ï¼šæ£‹å±€åç§°
- `Author`ï¼šä½œè€…åç§°
- `Timelines`ï¼šåŒ…å«å¤šä¸ªæ—¶é—´çº¿çš„å¯¹è±¡
  - é”®ä¸ºæ—¶é—´çº¿IDï¼ˆå¦‚"-1L", "0L", "+0L"ç­‰ï¼‰
  - å€¼ä¸ºæ£‹ç›˜çŠ¶æ€æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯FENå­—ç¬¦ä¸²æˆ–`null`
- `CosmeticTurnOffset`ï¼šå›åˆåç§»é‡

## é¡¹ç›®ç»“æ„

- `src/components/`ï¼šUIç»„ä»¶
- `src/context/`ï¼šçŠ¶æ€ç®¡ç†
- `src/types/`ï¼šTypeScriptç±»å‹å®šä¹‰
- `public/`ï¼šé™æ€èµ„æº

## æŠ€æœ¯æ ˆ

- React + TypeScript
- React DnDï¼ˆæ‹–æ”¾åŠŸèƒ½ï¼‰
- Tailwind CSSï¼ˆæ ·å¼ï¼‰
- Viteï¼ˆæ„å»ºå·¥å…·ï¼‰

## æ³¨æ„äº‹é¡¹

- ç¼–è¾‘å™¨æ”¯æŒä¸åŒå¤§å°çš„æ£‹ç›˜ï¼ˆ5x5, 8x8ç­‰ï¼‰
- ç‰¹æ®Šçš„"+0L"å’Œ"-0L"æ—¶é—´çº¿éœ€è¦ç‰¹åˆ«å¤„ç†
- å¯¼å…¥çš„JSONæ–‡ä»¶å¿…é¡»ç¬¦åˆæŒ‡å®šæ ¼å¼

## é¸£è°¢

- Manus
- Github Copilot
- Claude Opus 4

</div>

<div id="english-content" style="display: none;">

# Chess Multi-Timeline Visual Editor User Guide

## Project Overview

This is a React-based chess multi-timeline visual editor that supports the following features:

- Import/export specific format JSON files
- Create and manage multiple timelines (positive, negative, zero timelines)
- Add, delete, and copy boards on timelines
- Freely place and move pieces
- Undo/redo operations
- Responsive design, adaptable to different devices

## Deployment Instructions

### Development Environment

1. Extract the `chess_editor_source.zip` file
2. Navigate to the project directory: `cd chess_editor_app`
3. Install dependencies: `pnpm install`
4. Start the development server: `pnpm run dev`
5. Access in browser: `http://localhost:5173`

### Production Deployment

1. Extract the `chess_editor_source.zip` file
2. Navigate to the project directory: `cd chess_editor_app`
3. Install dependencies: `pnpm install`
4. Build the project: `pnpm build`
5. Deploy the files in the `dist` directory to your web server

## Usage Instructions

### Import/Export Functions

- Click the "Import" button in the control panel to select and import JSON files
- Click the "Export" button to export the current editor state as a JSON file

### Timeline Management

- Use the buttons above the timeline list to add different types of timelines
- Timelines are arranged with negative numbers at the top and positive numbers at the bottom
- Click the "Delete Timeline" button on a timeline to remove the entire timeline

### Board Operations

- Click the "Add Board" button in a timeline to add a new board at the end of the timeline
- Click the "Delete" button below a board to remove the board
- Boards can be copied across timelines
- Empty boards can now be added (Updated 2025-5-24)

### Piece Operations

- Drag pieces to move them within boards or across boards
- Pieces can be placed freely, not restricted by chess rules

### Undo/Redo

- Click the "Undo" and "Redo" buttons in the control panel
- You can also use keyboard shortcuts: Ctrl+Z (Undo) and Ctrl+Y (Redo)

### Metadata Editing

- Click the "Edit Metadata" button to modify game name, author, and turn offset

## JSON Format Description

The JSON format supported by the editor is as follows:

```json
{
  "Name": "Game Name",
  "Author": "Author Name",
  "Timelines": {
    "-1L": [
      "3k1/5/5/2K2/5"
    ],
    "0L": [
      "3k1/5/5/2K2/5"
    ],
    "+0L": [
      null, "8/8/8/8/8/8/8/8"
    ]
  },
  "CosmeticTurnOffset": -1
}
```

- `Name`: Game name
- `Author`: Author name
- `Timelines`: Object containing multiple timelines
  - Keys are timeline IDs (such as "-1L", "0L", "+0L", etc.)
  - Values are arrays of board states, each element is a FEN string or `null`
- `CosmeticTurnOffset`: Turn offset

## Project Structure

- `src/components/`: UI components
- `src/context/`: State management
- `src/types/`: TypeScript type definitions
- `public/`: Static assets

## Technology Stack

- React + TypeScript
- React DnD (drag and drop functionality)
- Tailwind CSS (styling)
- Vite (build tool)

## Notes

- The editor supports different board sizes (5x5, 8x8, etc.)
- Special "+0L" and "-0L" timelines require special handling
- Imported JSON files must conform to the specified format

## Acknowledgments

- Manus
- Github Copilot
- Claude Opus 4

</div>

<script>
function toggleLanguage() {
  const chineseContent = document.getElementById('chinese-content');
  const englishContent = document.getElementById('english-content');
  
  if (chineseContent.style.display === 'none') {
    chineseContent.style.display = 'block';
    englishContent.style.display = 'none';
  } else {
    chineseContent.style.display = 'none';
    englishContent.style.display = 'block';
  }
}
</script>

<style>
button {
  background-color: #4CAF50;
  border: none;
  color: white;
  padding: 8px 16px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 14px;
  margin: 4px 2px;
  cursor: pointer;
  border-radius: 4px;
  transition: background-color 0.3s;
}

button:hover {
  background-color: #45a049;
}

#chinese-content, #english-content {
  transition: opacity 0.3s ease-in-out;
}
</style>
